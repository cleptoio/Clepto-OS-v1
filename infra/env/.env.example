========== APP CORE ==========
APP_SECRET=GENERATE_STRONG_KEY_HERE # Used for session/JWT. Generate: openssl rand -base64 32
NODE_ENV=production
SERVER_URL=https://crm.clepto.io # Your domain; used for API/redirects
FRONTEND_URL=https://crm.clepto.io # Same or subdomain if split

========== DATABASE ==========
PG_HOST=clepto-db
PG_PORT=5432
PG_DATABASE=clepto_os
PG_USER=postgres
PG_PASSWORD=VERY_STRONG_DB_PASSWORD # Min 32 chars, alphanumeric + special chars
PG_MAX_CONNECTIONS=20

========== REDIS (if used) ==========
REDIS_HOST=clepto-redis
REDIS_PORT=6379
REDIS_PASSWORD=REDIS_STRONG_PASSWORD # If auth required

========== EMAIL / NOTIFUSE ==========
NOTIFUSE_API_KEY=YOUR_NOTIFUSE_API_KEY_HERE
NOTIFUSE_BASE_URL=https://api.notifuse.io
SMTP_HOST=smtp.provider.com # If using SMTP directly
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASSWORD=SMTP_PASSWORD_HERE
SMTP_FROM=noreply@clepto.io

========== n8n INTEGRATION ==========
N8N_WEBHOOK_URL=https://n8n.srv1003656.hstgr.cloud/webhook
N8N_API_KEY=YOUR_N8N_API_KEY_HERE # If auth required

========== SECURITY & AUTH ==========
JWT_SECRET=STRONG_JWT_SECRET_HERE # Min 32 chars
JWT_EXPIRES_IN=1h # Access token expiration
REFRESH_TOKEN_EXPIRES_IN=7d # Refresh token expiration
SESSION_SECRET=STRONG_SESSION_SECRET_HERE
SESSION_TIMEOUT_MINUTES=30

========== 2FA SETTINGS ==========
ENABLE_2FA=true
TOTP_WINDOW=1 # Time window for TOTP validation (typical: 1)

========== API RATE LIMITING ==========
RATE_LIMIT_WINDOW_MS=60000 # 1 minute
RATE_LIMIT_MAX_REQUESTS=100 # max 100 requests per window
GRAPHQL_MAX_DEPTH=10 # Prevent query complexity attacks

========== CORS CONFIGURATION ==========
CORS_ALLOWED_ORIGINS=https://crm.clepto.io,https://app.clepto.io

========== REQUEST LIMITS ==========
MAX_REQUEST_SIZE=10mb
MAX_JSON_SIZE=10mb
UPLOAD_MAX_FILE_SIZE=50mb
REQUEST_TIMEOUT_MS=30000

========== BACKUP & OFFSITE STORAGE ==========
# Option 1: S3-compatible (AWS S3, DigitalOcean Spaces, Minio, etc.)
BACKUP_S3_ENABLED=true
BACKUP_S3_ENDPOINT=https://s3.amazonaws.com # or your provider
BACKUP_S3_BUCKET=clepto-backups-prod
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=YOUR_S3_ACCESS_KEY
BACKUP_S3_SECRET_KEY=YOUR_S3_SECRET_KEY

# Option 2: SSH/SFTP backup server
BACKUP_SFTP_ENABLED=false
BACKUP_SFTP_HOST=backup.example.com
BACKUP_SFTP_USER=backup-user
BACKUP_SFTP_PASSWORD=SFTP_PASSWORD_HERE
BACKUP_SFTP_PATH=/backups/clepto

# Backup retention policy (days)
BACKUP_RETENTION_DAYS=30 # Keep 30 days of backups
BACKUP_SCHEDULE_CRON=0 2 * * * # 2 AM daily

========== AUDIT LOGGING ==========
AUDIT_LOG_RETENTION_DAYS=365 # Keep audit logs for 1 year (compliance)
AUDIT_LOG_LEVEL=info # info, debug, warn, error
LOG_LEVEL=info # Don't expose sensitive data in logs

========== SSL / TLS ==========
TLS_CERT_PATH=/etc/traefik/certs/cert.pem
TLS_KEY_PATH=/etc/traefik/certs/key.pem

========== VPS / INFRASTRUCTURE ==========
DOMAIN=crm.clepto.io
VPS_SSH_PORT=22 # Change if custom SSH port
TRAEFIK_DASHBOARD_ENABLED=false # Keep disabled in prod

========== FEATURE FLAGS ==========
ENABLE_API=true # Allow GraphQL/REST API
ENABLE_WORKFLOWS=true # n8n integrations
ENABLE_TEAM_MANAGEMENT=true # Multi-user/roles
